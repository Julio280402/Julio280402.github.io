!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){var t,i,n,o,a,s,r,l,d,p,c,h,u,g,f,m,v,x,b,w,y,C,E,T,S,L,k,A,P,D,O,I,M,R,z,N,_,B,F,H,U,W,X,q,V,Y,j,G,K,J,Z,Q,ee,te,ie,ne=["<div class=sl-overlay></div>","<div class=sl-wrapper><div class=sl-close>&times;</div><div class=sl-counter></div><div class=sl-navigation><button class=sl-prev>&lsaquo;</button><button class=sl-next>&rsaquo;</button></div><div class=sl-image></div></div>","<div class=sl-caption></div>"],oe={animationSpeed:250,animationSlide:!0,nav:!0,navText:["&lsaquo;","&rsaquo;"],close:!0,closeText:"&times;",showCounter:!0,fileExt:"png|jpg|jpeg|gif",className:"simple-lightbox",widthRatio:.8,heightRatio:.9,disableRightClick:!1,disableScroll:!0,alertError:!0,alertErrorMessage:"Image not found, next image will be loaded",rtl:!1,loop:!0,docClose:!0,swipeClose:!0,html:!1},ae=e(window),se=e(document),re={},le=Math.abs,de=0,pe=0,ce=0,he=0,ue=0,ge=-1,fe=[],me=[],ve=navigator.userAgent.match(/firefox|trident/i)?1:0,xe="transform",be="transition",we=["","Moz","Webkit","O","ms"],ye="WebkitTransition"in document.body.style?be+"end":be+"end."+we[1].toLowerCase(),Ce=!1,Ee=0,Te=0,Se=0,Le=0,ke=0,Ae=0,Pe="ontouchstart"in window,De=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,Oe=function(e){return e.length>0},Ie=function(e,t,i){var n=new Image,o=e.attr("src");n.onload=function(){var e=n.width,o=n.height;i&&i(e,o),t.html(n)},n.onerror=function(n){t.html(""),i&&i(!1,!1),e.data("error",!0),console.log(n)},n.src=o},Me={};!function(){var e=0,t=0,i=we.length,n=document.createElement("div").style;for(t=0;t<i;t++)if((e=we[t])+"Transition"in n){var o=e.toLowerCase();return Me.transition=o+"-transition",Me.transitionDelay=o+"-transition-delay",void(Me.transform=o+"-transform")}}();var Re=function(t){var i,n=e.extend({},oe,t);this.init=function(){n=e.extend({},n,re),this.find("a").each(function(){var e=0,t=i;fe.push(this),me.push({el:this,caption:t,rel:e})}),Ee=fe.length,i=e(this),this.on("click.simplelightbox","a",function(e){return N(e,this)})},this.open=function(t){var i=e(t);ge=fe.indexOf(t),i.data("pos",ge),z(ge)},this.next=function(){ge++,Ee>ge||(ge=n.loop?0:Ee-1),p=e(fe[ge]),this.open(p)},this.prev=function(){ge--,-1>ge&&(ge=n.loop?Ee-1:0),p=e(fe[ge]),this.open(p)},this.close=function(){p.data("pos",ge),ge=-1,r.fadeOut(200,function(){Q&&Q.apply(),u.remove(),a.remove(),s.remove(), Ce=!1})},this.destroy=function(){p.data("pos",ge),this.off("click.simplelightbox"),fe=[],me=[],ge=-1,u.remove(),a.remove(),s.remove()},this.refresh=function(){var t=[],i=0,o=0;this.find("a").each(function(){var n=0,a=e(this);a.attr("rel")&&a.attr("rel")===i.attr("rel")&&(n=me.indexOf(a)),-1===n&&(fe.push(this),me.push({el:this,caption:a.attr("title"),rel:a.attr("rel")}))}),Ee=fe.length;for(i=Ee;i>=0;i--)e(fe[i]).is(this)||(fe.splice(i,1),me.splice(i,1));this.close()}};e.fn.simpleLightbox=function(e){return new Re(this,e)},e.simpleLightbox=new Re("body"),e.fn.simpleLightbox.defaults=oe,t=e(ne[0]),i=e(ne[1]),n=e(ne[2]),o=i.find(".sl-close"),a=i.find(".sl-image"),s=i.find(".sl-navigation"),r=i.find(".sl-counter"),l=s.find(".sl-next"),d=s.find(".sl-prev"),p=void 0,c=void 0,h=void 0,u=void 0,g=void 0,f=void 0,m=void 0,v=void 0,x=!1,b=0,w=0,y=function(){var e=ge+1+"/"+Ee;r.html(e)},C=function(){if(n.length>0){var e=me[ge];n.html(e.caption),n.fadeIn("fast")}},E=function(){o.on("click."+u,function(e){e.preventDefault(),Ce||R()})},T=function(){d.on("click."+u,function(e){e.preventDefault(),x||B()}),l.on("click."+u,function(e){e.preventDefault(),x||_()})},S=function(){if(oe.docClose){var t=0;se.on("click."+u,function(i){Ce||i.target===a.get(0)&&e(i.target).hasClass("sl-image")&&R()})}},L=function(e){if(De||Pe){var t=e.originalEvent,i=le(t.pageX-Te),o=le(t.pageY-Se);30>i&&30>o||(t.preventDefault(),ce=t.pageX-Te,he=t.pageY-Se,ae.off("touchmove mousemove pointermove"),a.on("mouseup touchend pointerup",function(e){e.originalEvent.preventDefault(),Te=0,Se=0,Le=0,ke=0,Ae=0,ae.off("touchmove mousemove pointermove"),x=!1,30>ce&&oe.swipeClose&&le(he)>30&&le(he)>le(ce)&&(1===(he>0?-1:1)&&a.animate({top:"+="+he+"px"},200),setTimeout(function(){R()},350)),le(ce)>30&&le(he)<le(ce)&&(1===(ce>0?-1:1)?B():_())}))}return!1},k=function(){if(De||Pe){a.on("touchstart mousedown pointerdown",function(e){if(!x&&!Ce){var t=e.originalEvent;t.preventDefault(),Te=t.pageX,Se=t.pageY,ae.on("touchmove mousemove pointermove",L)}return!1})}},A=function(){var t=ge,i=0;p=e(fe[t]);for(t=0;t<fe.length;t++)i=e(fe[t]).data("pos"),i||e(fe[t]).data("pos",t);i=p.data("pos"),c=p.attr("href");var o=p.find("img");if(c.match(/\.(png|jpg|jpeg|gif)/)){h=c.replace(/.*\//,"");var s,l,d=me.indexOf(p.get(0)),g="<img src='"+c+"' class='swipe' alt='"+h+"' />";if(oe.html){var f=e(p.attr("rel"));f.length>0&&(s=f.html())}s?(u.html(s),m=s.width(),v=s.height()):(u.html(g),Ie(e(g),u,function(e,t){m=e,v=t,e&&t||(x=!0)})),b=0,w=0;var C=me[ge];N.caption=C.caption,y(),T(),E(),S(),k(),oe.nav||s.hide(),oe.close||o.hide(),oe.showCounter||r.hide(),oe.animationSlide&&(l=ge>w?200:-200,l=0===ge&&Ee-1===w?200:0===w&&ge===Ee-1?-200:l,O(l)),u.css({width:m,height:v}),setTimeout(function(){r.fadeIn("fast")},300),n.length>0&&setTimeout(function(){C.caption&&n.html(C.caption),n.fadeIn("fast")},300),oe.disableScroll&&se.on("touchmove",function(e){e.preventDefault()})}},P=function(){d.hide(),l.hide()},D=function(){d.show(),l.show()},O=function(e,t){if(!x){var i={};if(i[xe]="translateX("+e+"px)",i[be]=oe.animationSpeed/1e3+"s",a.css(i),setTimeout(function(){i[xe]="translateX(0px)",t&&a.one(ye,function(e,i){e.preventDefault(),a.css(be,"0s")}),a.css(i)},oe.animationSpeed),w=ge,oe.loop)return!0;ge===Ee-1?l.hide():l.show(),0===ge?d.hide():d.show()}},I=function(){if(x)return!0;x=!0,b=ge,p=e(fe[b]);var t=p.attr("rel");t?p.parents().find("a[rel="+t+"]").each(function(t){-1==fe.indexOf(this)&&(fe.push(this),me.push({el:this,caption:e(this).attr("title"),rel:t}))}):fe.push(this),Ee=fe.length;var n=e("body");n.append(t),n.append(i),u=i.find(".sl-image"),i.addClass(n.className),t.fadeIn(200),Ce=!0,a.css({top:pe}),se.on("keyup."+u,function(e){e.preventDefault(),27==e.keyCode&&R(),37==e.keyCode&&b>0&&_(),39==e.keyCode&&b<fe.length-1&&B()}),A()},M=function(){a.css(be,"0s").css(xe,"translateX(0px)")},R=function(){Ce&&(p.data("pos",ge),ge=-1,oe.disableScroll&&se.off("touchmove"),i.removeClass(p.className),se.off("keyup."+u),r.fadeOut("fast"),n.fadeOut("fast"),t.fadeOut(200,function(){Q&&Q.apply(),M(),Ce=!1}))},z=function(n){ee&&ee.apply(),I()},N=function(t,i){return"A"===i.tagName&&"IMG"===i.children[0].tagName&&(t.preventDefault(),z(fe.indexOf(i))),!1},_=function(e){var t=0;x=!1,b=ge-1,p=e?p:e(fe[b]),p.length||(x=!0),l.show(),0===b&&d.hide(),w>b?(t=200,oe.animationSlide&&O(t)):t=-200,oe.animationSlide&&O(t,e),r.html(b+1+"/"+Ee),w=b,A(),C()},B=function(e){var t=0;x=!1,b=ge+1,p=e?p:e(fe[b]),p.length||(x=!0),d.show(),b===Ee-1&&l.hide(),b>w?(t=-200,oe.animationSlide&&O(t)):t=200,oe.animationSlide&&O(t,e),r.html(b+1+"/"+Ee),w=b,A(),C()}});